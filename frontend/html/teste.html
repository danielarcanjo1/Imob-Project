<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste</title>
    <style>
        .leads-content, .scale-content, .reports-content, .broker-content {
            display: none;
        }
        .leads-content-visible, .scale-content-visible, .reports-content-visible, .broker-content-visible {
            display: block;
        }
        .fa-rotate-90 {
            transform: rotate(90deg);
        }
    </style>
</head>
<body>
    <div class="leads">Leads <i class="icon-major-leads"></i></div>
    <div class="leads-content">Leads Content</div>
    
    <div class="scale">Scale <i class="icon-major-scale"></i></div>
    <div class="scale-content">Scale Content</div>
    
    <div class="reports">Reports <i class="icon-major-reports"></i></div>
    <div class="reports-content">Reports Content</div>
    
    <div class="broker">Broker <i class="icon-major-broker"></i></div>
    <div class="broker-content">Broker Content</div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            console.log("DOM completamente carregado e analisado.");

            const divs = document.querySelectorAll(".leads, .scale, .reports, .broker");
            console.log("Divs selecionadas:", divs);
            
            const contents = {
                leads: document.querySelector(".leads-content"),
                scale: document.querySelector(".scale-content"),
                reports: document.querySelector(".reports-content"),
                broker: document.querySelector(".broker-content")
            };
            console.log("Contents:", contents);
            
            const icons = {
                leads: document.querySelector(".icon-major-leads"),
                scale: document.querySelector(".icon-major-scale"),
                reports: document.querySelector(".icon-major-reports"),
                broker: document.querySelector(".icon-major-broker")
            };
            console.log("Icons:", icons);
            
            function toggleVisibility(type) {
                for (let key in contents) {
                    if (key === type) {
                        const content = contents[key];
                        const icon = icons[key];
                        const isVisible = content.classList.toggle(`${key}-content-visible`);
                        icon.classList.toggle("fa-rotate-90", isVisible);
                    } else {
                        const content = contents[key];
                        const icon = icons[key];
                        content.classList.remove(`${key}-content-visible`);
                        icon.classList.remove("fa-rotate-90");
                    }
                }
            }
            
            divs.forEach(accordion => {
                accordion.addEventListener("click", () => {
                    const type = Array.from(accordion.classList).find(cls => contents[cls]);
                    console.log("Accordion clicado, tipo encontrado:", type);
                    toggleVisibility(type);
                });
            });
        });
    </script>
</body>
</html>